<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ArhGo | Ù…ÙˆÙ„Ø¯ Ø®Ø·Ø· Ø°ÙƒÙŠ</title>
  <link rel="stylesheet" href="assets/css/arhgo.css">
  <script src="assets/js/arhgo.js" defer></script>
  <script src="assets/js/countries-database.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    body {
      background: linear-gradient(135deg, #0A1C2E 0%, #0F1722 30%, #8EA2B6 60%, #C9B27A 100%);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
    }
    
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .planner-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    .planner-header {
      text-align: center;
      margin-bottom: 40px;
      color: #fff;
    }
    
    .planner-header h1 {
      font-size: 3rem;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #C9B27A, #8EA2B6, #fff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .algorithm-status {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin: 20px 0;
      padding: 16px;
      background: rgba(201, 178, 122, 0.1);
      border-radius: 12px;
      border: 2px solid rgba(201, 178, 122, 0.3);
    }
    
    .status-indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #10B981;
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }
    
    .planner-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 40px;
    }
    
    @media (max-width: 968px) {
      .planner-grid {
        grid-template-columns: 1fr;
      }
    }
    
    .info-card {
      background: rgba(242, 244, 247, 0.95);
      border-radius: 24px;
      padding: 32px;
      border: 2px solid rgba(201, 178, 122, 0.3);
      box-shadow: 0 20px 60px rgba(10, 28, 46, 0.3);
      backdrop-filter: blur(20px);
    }
    
    .day-plan {
      background: rgba(242, 244, 247, 0.95);
      border-radius: 24px;
      padding: 32px;
      margin-bottom: 24px;
      border: 2px solid rgba(201, 178, 122, 0.3);
      box-shadow: 0 20px 60px rgba(10, 28, 46, 0.3);
      backdrop-filter: blur(20px);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .day-plan:hover {
      transform: translateY(-5px);
      box-shadow: 0 30px 80px rgba(10, 28, 46, 0.4);
    }
    
    .day-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 2px solid rgba(201, 178, 122, 0.3);
    }
    
    .day-number {
      font-size: 2rem;
      font-weight: 800;
      background: linear-gradient(135deg, #0A1C2E, #C9B27A);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .time-slot {
      margin: 20px 0;
      padding: 20px;
      background: rgba(201, 178, 122, 0.1);
      border-radius: 12px;
      border-right: 4px solid #C9B27A;
    }
    
    .time-slot h4 {
      color: #0A1C2E;
      margin-bottom: 12px;
      font-size: 1.2rem;
    }
    
    .activity-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 12px 0;
      padding: 12px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 8px;
    }
    
    .activity-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #C9B27A, #8EA2B6);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
    }
    
    .route-optimization {
      background: rgba(16, 185, 129, 0.1);
      border: 2px solid rgba(16, 185, 129, 0.3);
      border-radius: 12px;
      padding: 16px;
      margin-top: 16px;
    }
    
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 28, 46, 0.95);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      color: #fff;
    }
    
    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(201, 178, 122, 0.3);
      border-top-color: #C9B27A;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-top: 24px;
    }
    
    .stat-card {
      background: rgba(201, 178, 122, 0.1);
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      border: 1px solid rgba(201, 178, 122, 0.3);
    }
    
    .stat-value {
      font-size: 2rem;
      font-weight: 800;
      color: #0A1C2E;
      margin-bottom: 8px;
    }
    
    .stat-label {
      color: #666;
      font-size: 0.9rem;
    }
  </style>
</head>
<body class="page-hidden">
  <nav class="arhgo-nav">
    <div class="arhgo-logo">ArhGo</div>
    <ul>
      <li><a data-nav href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
      <li><a data-nav href="analytics.html">Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</a></li>
      <li><a data-nav href="budget-manager.html">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</a></li>
      <li><a data-nav href="price-comparison.html">Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</a></li>
      <li><a data-nav href="smart-alerts.html">Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</a></li>
    </ul>
  </nav>

  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-spinner"></div>
    <h2>Ø¬Ø§Ø±Ù ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø°ÙƒÙŠØ©...</h2>
    <p id="loadingStatus">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³Ø§Ø±...</p>
  </div>

  <main class="planner-container">
    <div class="planner-header">
      <h1>Ù…ÙˆÙ„Ø¯ Ø®Ø·Ø· Ø°ÙƒÙŠ</h1>
      <p style="font-size: 1.2rem; color: rgba(255,255,255,0.9); margin-bottom: 20px;">
        Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© Ù„ØªÙˆÙ„ÙŠØ¯ Ø®Ø·Ø· Ø³ÙØ± Ù…Ø­Ø³Ù‘Ù†Ø© Ù„ÙƒÙ„ Ø§Ù„Ø¯ÙˆÙ„
      </p>
      <div class="algorithm-status">
        <div class="status-indicator"></div>
        <span>Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù†Ø´Ø·Ø© - ØªØ­Ù„ÙŠÙ„ ÙˆØªÙˆÙ„ÙŠØ¯ Ù…Ø­Ø³Ù‘Ù†</span>
      </div>
    </div>

    <div class="planner-grid">
      <div class="info-card">
        <h3 style="color: #0A1C2E; margin-bottom: 20px;">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø©</h3>
        <div id="tripInfo"></div>
        <div class="stats-grid" id="tripStats"></div>
      </div>
      
      <div class="info-card">
        <h3 style="color: #0A1C2E; margin-bottom: 20px;">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©</h3>
        <canvas id="algorithmChart" style="max-height: 300px;"></canvas>
        <div class="route-optimization" id="routeInfo" style="margin-top: 20px;">
          <strong>ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³Ø§Ø±:</strong>
          <p id="routeText">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù„ÙŠÙ„...</p>
        </div>
      </div>
    </div>

    <div class="info-card" style="margin-bottom: 40px;">
      <h3 style="color: #0A1C2E; margin-bottom: 20px;">ğŸ—ºï¸ Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø±Ø­Ù„Ø©</h3>
      <div id="trip-map" style="width: 100%; height: 400px; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.15);">
        <iframe id="google-map-iframe" style="width: 100%; height: 100%; border: none;" loading="lazy" allowfullscreen></iframe>
      </div>
    </div>

    <div id="dailyPlans"></div>
  </main>

  <script>
    // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…Ù„Ù Ù…Ù†ÙØµÙ„
    // Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡Ø§ Ù…Ù† countries-database.js

    // Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³Ø§Ø± (TSP - Traveling Salesman Problem)
    function optimizeRoute(places, startPoint) {
      if (places.length <= 2) return places;
      
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Nearest Neighbor
      const route = [startPoint];
      const remaining = places.filter(p => p !== startPoint);
      let current = startPoint;
      
      while (remaining.length > 0) {
        let nearest = remaining[0];
        let minDist = calculateDistance(current, nearest);
        
        for (const place of remaining) {
          const dist = calculateDistance(current, place);
          if (dist < minDist) {
            minDist = dist;
            nearest = place;
          }
        }
        
        route.push(nearest);
        remaining.splice(remaining.indexOf(nearest), 1);
        current = nearest;
      }
      
      return route;
    }
    
    function calculateDistance(place1, place2) {
      // Ù…Ø­Ø§ÙƒØ§Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ© (ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø§Ø³ØªØ®Ø¯Ù… Google Maps API)
      return Math.random() * 10;
    }

    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø£Ù…Ø§ÙƒÙ†
    const placeDetails = {
      'Ù…ØªØ­Ù Ø§Ù„Ù„ÙˆÙØ±': {
        description: 'Ø£ÙƒØ¨Ø± Ù…ØªØ­Ù ÙÙ†ÙŠ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ ÙŠØ¶Ù… Ø£ÙƒØ«Ø± Ù…Ù† 35,000 Ø¹Ù…Ù„ ÙÙ†ÙŠ Ù…Ù† Ù…Ø®ØªÙ„Ù Ø§Ù„Ø¹ØµÙˆØ± ÙˆØ§Ù„Ø­Ø¶Ø§Ø±Ø§Øª',
        activities: ['Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø¹Ø§Ø±Ø¶ Ø§Ù„Ø¯Ø§Ø¦Ù…Ø©', 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ù„ÙˆØ­Ø© Ø§Ù„Ù…ÙˆÙ†Ø§Ù„ÙŠØ²Ø§', 'Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø£Ø¬Ù†Ø­Ø© Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©', 'ØªØµÙˆÙŠØ± Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙÙ†ÙŠØ©'],
        address: 'Rue de Rivoli, 75001 Paris, France',
        bestTime: '09:00-11:00 (Ø£Ù‚Ù„ Ø§Ø²Ø¯Ø­Ø§Ù…Ø§Ù‹)'
      },
      'Ù‚ØµØ± ÙØ±Ø³Ø§ÙŠ': {
        description: 'Ù‚ØµØ± Ù…Ù„ÙƒÙŠ ÙØ§Ø®Ø± ÙŠØ¹ÙˆØ¯ Ù„Ù„Ù‚Ø±Ù† Ø§Ù„Ø³Ø§Ø¨Ø¹ Ø¹Ø´Ø±ØŒ Ø±Ù…Ø² Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©',
        activities: ['Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù‚ØµØ± Ø§Ù„Ù…Ù„ÙƒÙŠ', 'Ø²ÙŠØ§Ø±Ø© Ø­Ø¯Ø§Ø¦Ù‚ ÙØ±Ø³Ø§ÙŠ', 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ù‚Ø§Ø¹Ø© Ø§Ù„Ù…Ø±Ø§ÙŠØ§', 'Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø¬Ù†Ø­Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ©'],
        address: 'Place d\'Armes, 78000 Versailles, France',
        bestTime: '10:00-12:00'
      },
      'ÙƒØ§ØªØ¯Ø±Ø§Ø¦ÙŠØ© Ù†ÙˆØªØ±Ø¯Ø§Ù…': {
        description: 'ÙƒØ§ØªØ¯Ø±Ø§Ø¦ÙŠØ© Ù‚ÙˆØ·ÙŠØ© ØªØ§Ø±ÙŠØ®ÙŠØ© ÙÙŠ Ù‚Ù„Ø¨ Ø¨Ø§Ø±ÙŠØ³ØŒ ØªØ­ÙØ© Ù…Ø¹Ù…Ø§Ø±ÙŠØ© ØªØ¹ÙˆØ¯ Ù„Ù„Ù‚Ø±Ù† Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø±',
        activities: ['Ø²ÙŠØ§Ø±Ø© Ø§Ù„ÙƒØ§ØªØ¯Ø±Ø§Ø¦ÙŠØ©', 'ØµØ¹ÙˆØ¯ Ø§Ù„Ø£Ø¨Ø±Ø§Ø¬', 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠØ© Ø§Ù„Ù…Ù„ÙˆÙ†Ø©', 'Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø­ÙŠØ·Ø©'],
        address: '6 Parvis Notre-Dame, 75004 Paris, France',
        bestTime: '08:00-10:00'
      },
      'Ø§Ù„ÙƒÙˆÙ„ÙˆØ³ÙŠÙˆÙ…': {
        description: 'Ù…Ø¯Ø±Ø¬ Ø±ÙˆÙ…Ø§Ù†ÙŠ Ù‚Ø¯ÙŠÙ… ÙŠØ¹ÙˆØ¯ Ù„Ø¹Ø§Ù… 80 Ù…ÙŠÙ„Ø§Ø¯ÙŠØŒ Ø£Ø­Ø¯ Ø¹Ø¬Ø§Ø¦Ø¨ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§Ù„Ø³Ø¨Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©',
        activities: ['Ø¬ÙˆÙ„Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø¯Ø±Ø¬', 'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø³ÙÙ„ÙŠ', 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø£Ù‚ÙˆØ§Ø³', 'ØªØµÙˆÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø¸Ø± Ø§Ù„Ø¨Ø§Ù†ÙˆØ±Ø§Ù…ÙŠØ©'],
        address: 'Piazza del Colosseo, 1, 00184 Roma RM, Italy',
        bestTime: '08:00-10:00'
      },
      'Ù…ØªØ­Ù Ø§Ù„ÙØ§ØªÙŠÙƒØ§Ù†': {
        description: 'Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…ØªØ§Ø­Ù ÙÙ†ÙŠØ© Ø¶Ø®Ù…Ø© ØªØ¶Ù… ÙƒÙ†ÙˆØ²Ø§Ù‹ ÙÙ†ÙŠØ© ÙˆØªØ§Ø±ÙŠØ®ÙŠØ© Ù„Ø§ ØªÙ‚Ø¯Ø± Ø¨Ø«Ù…Ù†',
        activities: ['Ø²ÙŠØ§Ø±Ø© ÙƒÙ†ÙŠØ³Ø© Ø³ÙŠØ³ØªÙŠÙ†', 'Ù…Ø´Ø§Ù‡Ø¯Ø© ØªÙ…Ø«Ø§Ù„ Ù„Ø§ÙˆÙƒÙˆÙ†', 'Ø¬ÙˆÙ„Ø© ÙÙŠ Ù…Ø¹Ø±Ø¶ Ø§Ù„ÙÙ†ÙˆÙ†', 'Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¨Ø§Ø¨ÙˆÙŠØ©'],
        address: '00120 Vatican City',
        bestTime: '09:00-11:00'
      },
      'Ø¨Ø±Ø¬ Ø¥ÙŠÙÙ„': {
        description: 'Ø¨Ø±Ø¬ Ø­Ø¯ÙŠØ¯ÙŠ ÙŠØ¨Ù„Øº Ø§Ø±ØªÙØ§Ø¹Ù‡ 330 Ù…ØªØ±Ø§Ù‹ØŒ Ø±Ù…Ø² Ø¨Ø§Ø±ÙŠØ³ ÙˆØ£ÙŠÙ‚ÙˆÙ†Ø© Ø¹Ø§Ù„Ù…ÙŠØ©',
        activities: ['ØµØ¹ÙˆØ¯ Ø§Ù„Ø¨Ø±Ø¬', 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ù…Ù†Ø¸Ø± Ø¨Ø§Ø±ÙŠØ³ Ø§Ù„Ø¨Ø§Ù†ÙˆØ±Ø§Ù…ÙŠ', 'Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ù…Ø·Ø¹Ù…', 'Ø§Ù„ØªØµÙˆÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰'],
        address: 'Champ de Mars, 5 Avenue Anatole France, 75007 Paris, France',
        bestTime: '09:00-11:00 Ø£Ùˆ 20:00-22:00'
      },
      'Ø§Ù„Ø£Ù‡Ø±Ø§Ù…Ø§Øª': {
        description: 'Ø£Ø­Ø¯ Ø¹Ø¬Ø§Ø¦Ø¨ Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§Ù„Ø³Ø¨Ø¹ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©ØŒ Ø£Ù‡Ø±Ø§Ù…Ø§Øª Ø§Ù„Ø¬ÙŠØ²Ø© Ø§Ù„Ø´Ù‡ÙŠØ±Ø©',
        activities: ['Ø²ÙŠØ§Ø±Ø© Ù‡Ø±Ù… Ø®ÙˆÙÙˆ', 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ø£Ø¨Ùˆ Ø§Ù„Ù‡ÙˆÙ„', 'Ø¬ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø£Ø«Ø±ÙŠØ©', 'Ø²ÙŠØ§Ø±Ø© Ù…ØªØ­Ù Ø§Ù„Ù‚ÙˆØ§Ø±Ø¨ Ø§Ù„Ø´Ù…Ø³ÙŠØ©'],
        address: 'Al Haram, Giza Governorate, Egypt',
        bestTime: '08:00-10:00 (ØªØ¬Ù†Ø¨ Ø§Ù„Ø­Ø±Ø§Ø±Ø©)'
      },
      'Ø¨Ø±Ø¬ Ø®Ù„ÙŠÙØ©': {
        description: 'Ø£Ø·ÙˆÙ„ Ù…Ø¨Ù†Ù‰ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø§Ø±ØªÙØ§Ø¹ 828 Ù…ØªØ±Ø§Ù‹ØŒ Ù…Ø¹ Ø¥Ø·Ù„Ø§Ù„Ø§Øª Ø®Ù„Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¯Ø¨ÙŠ',
        activities: ['ØµØ¹ÙˆØ¯ Ø§Ù„Ø·Ø§Ø¨Ù‚ 124', 'Ù…Ø´Ø§Ù‡Ø¯Ø© Ù…Ù†ØµØ© Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©', 'Ø²ÙŠØ§Ø±Ø© Ù†Ø§ÙÙˆØ±Ø© Ø¯Ø¨ÙŠ', 'Ø§Ù„ØªØµÙˆÙŠØ± Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰'],
        address: '1 Sheikh Mohammed bin Rashid Blvd, Dubai, UAE',
        bestTime: '17:00-19:00 (Ù„Ø±Ø¤ÙŠØ© Ø§Ù„ØºØ±ÙˆØ¨)'
      }
    };

    // Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ù…ÙƒØ§Ù†
    function getPlaceDetails(placeName, city, country) {
      // Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
      if (placeDetails[placeName]) {
        return placeDetails[placeName];
      }
      
      // Ø¥Ù†Ø´Ø§Ø¡ ØªÙØ§ØµÙŠÙ„ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ù…ÙƒØ§Ù†
      const defaultDetails = {
        description: `Ù…ÙƒØ§Ù† Ø³ÙŠØ§Ø­ÙŠ Ø±Ø§Ø¦Ø¹ ÙÙŠ ${city}ØŒ ${country}ØŒ ÙŠØ³ØªØ­Ù‚ Ø§Ù„Ø²ÙŠØ§Ø±Ø©`,
        activities: ['Ø¬ÙˆÙ„Ø© Ø§Ø³ØªÙƒØ´Ø§ÙÙŠØ©', 'Ø§Ù„ØªØµÙˆÙŠØ±', 'Ø§Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø§Ù„Ù…Ù†Ø§Ø¸Ø±', 'Ø§Ù„ØªØ³ÙˆÙ‚'],
        address: `${city}, ${country}`,
        bestTime: '09:00-17:00'
      };
      
      return defaultDetails;
    }

    // Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ø°ÙƒÙŠØ©
    function generateSmartPlan(country, days, interests, budget) {
      const countryData = getCountryData(country);
      const budgetLevel = budget.toLowerCase().includes('Ù…Ù†Ø®ÙØ¶') || budget === 'low' ? 'low' : 
                         budget.toLowerCase().includes('ÙØ§Ø®Ø±') || budget === 'high' ? 'high' : 'medium';
      const dailyBudget = countryData.attractions.budget[budgetLevel];
      
      const interestsList = interests.split(',').map(i => i.trim().toLowerCase());
      const isCultural = interestsList.some(i => ['Ø«Ù‚Ø§ÙØ©', 'ØªØ§Ø±ÙŠØ®', 'Ù…ØªØ­Ù', 'cultural'].includes(i));
      const isNature = interestsList.some(i => ['Ø·Ø¨ÙŠØ¹Ø©', 'Ø¬Ø¨Ø§Ù„', 'Ø¨Ø­Ø±', 'nature'].includes(i));
      const isAdventure = interestsList.some(i => ['Ù…ØºØ§Ù…Ø±Ø©', 'Ø±ÙŠØ§Ø¶Ø©', 'adventure'].includes(i));
      const isFood = interestsList.some(i => ['Ø·Ø¹Ø§Ù…', 'food'].includes(i));
      const isShopping = interestsList.some(i => ['ØªØ³ÙˆÙ‚', 'shopping'].includes(i));
      
      const plan = [];
      
      for (let day = 1; day <= days; day++) {
        const cityIndex = Math.min(day - 1, countryData.cities.length - 1);
        const city = countryData.cities[cityIndex];
        
        const dayPlan = {
          day: day,
          city: city,
          morning: [],
          afternoon: [],
          evening: [],
          totalCost: 0,
          route: []
        };
        
        // Ø§Ù„ØµØ¨Ø§Ø­: Ø£Ù…Ø§ÙƒÙ† Ø«Ù‚Ø§ÙÙŠØ© Ø£Ùˆ ØªØ§Ø±ÙŠØ®ÙŠØ©
        if (isCultural && countryData.attractions.cultural.length > 0) {
          const culturalIndex = (day - 1) % countryData.attractions.cultural.length;
          const placeName = countryData.attractions.cultural[culturalIndex];
          const details = getPlaceDetails(placeName, city, country);
          
          dayPlan.morning.push({
            name: placeName,
            type: 'cultural',
            duration: '2-3 Ø³Ø§Ø¹Ø§Øª',
            cost: dailyBudget * 0.25,
            description: details.description,
            activities: details.activities,
            address: details.address,
            bestTime: details.bestTime,
            visitType: 'Ø²ÙŠØ§Ø±Ø© ÙˆØ§Ø³ØªÙƒØ´Ø§Ù'
          });
        }
        
        // Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡Ø±: Ø·Ø¨ÙŠØ¹Ø© Ø£Ùˆ Ù…ØºØ§Ù…Ø±Ø© Ø£Ùˆ ØªØ³ÙˆÙ‚
        if (isNature && countryData.attractions.nature.length > 0 && day % 2 === 0) {
          const natureIndex = (day - 1) % countryData.attractions.nature.length;
          const placeName = countryData.attractions.nature[natureIndex];
          const details = getPlaceDetails(placeName, city, country);
          
          dayPlan.afternoon.push({
            name: placeName,
            type: 'nature',
            duration: '3-4 Ø³Ø§Ø¹Ø§Øª',
            cost: dailyBudget * 0.3,
            description: details.description,
            activities: details.activities,
            address: details.address,
            bestTime: details.bestTime,
            visitType: 'Ø§Ø³ØªÙƒØ´Ø§Ù ÙˆØ§Ø³ØªØ±Ø®Ø§Ø¡'
          });
        }
        
        if (isAdventure && countryData.attractions.adventure.length > 0 && day % 3 === 0) {
          const adventureIndex = (day - 1) % countryData.attractions.adventure.length;
          const placeName = countryData.attractions.adventure[adventureIndex];
          const details = getPlaceDetails(placeName, city, country);
          
          dayPlan.afternoon.push({
            name: placeName,
            type: 'adventure',
            duration: '4-5 Ø³Ø§Ø¹Ø§Øª',
            cost: dailyBudget * 0.4,
            description: details.description,
            activities: details.activities,
            address: details.address,
            bestTime: details.bestTime,
            visitType: 'Ù…ØºØ§Ù…Ø±Ø© ÙˆØ¥Ø«Ø§Ø±Ø©'
          });
        }
        
        // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù†Ø´Ø§Ø· Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡Ø±ØŒ Ø£Ø¶Ù Ù†Ø´Ø§Ø· Ø·Ø¨ÙŠØ¹Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠ
        if (dayPlan.afternoon.length === 0 && countryData.attractions.nature.length > 0) {
          const natureIndex = (day - 1) % countryData.attractions.nature.length;
          const placeName = countryData.attractions.nature[natureIndex];
          const details = getPlaceDetails(placeName, city, country);
          
          dayPlan.afternoon.push({
            name: placeName,
            type: 'nature',
            duration: '2-3 Ø³Ø§Ø¹Ø§Øª',
            cost: dailyBudget * 0.25,
            description: details.description,
            activities: details.activities,
            address: details.address,
            bestTime: details.bestTime,
            visitType: 'Ø§Ø³ØªÙƒØ´Ø§Ù'
          });
        }
        
        // Ø§Ù„Ù…Ø³Ø§Ø¡: Ù…Ø·Ø¹Ù…
        if (countryData.attractions.food.length > 0) {
          const foodIndex = (day - 1) % countryData.attractions.food.length;
          const restaurantName = countryData.attractions.food[foodIndex];
          const details = getPlaceDetails(restaurantName, city, country);
          
          dayPlan.evening.push({
            name: restaurantName,
            type: 'food',
            duration: '2 Ø³Ø§Ø¹Ø§Øª',
            cost: dailyBudget * 0.45,
            description: details.description || `Ù…Ø·Ø¹Ù… Ø±Ø§Ù‚ÙŠ ÙÙŠ ${city} ÙŠÙ‚Ø¯Ù… Ø£Ø·Ø¨Ø§Ù‚Ø§Ù‹ Ù…Ø­Ù„ÙŠØ© ÙˆØ¹Ø§Ù„Ù…ÙŠØ©`,
            activities: details.activities || ['ØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ø¹Ø´Ø§Ø¡', 'ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ù…Ø­Ù„ÙŠØ©', 'Ø§Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø§Ù„Ø£Ø¬ÙˆØ§Ø¡'],
            address: details.address,
            bestTime: '19:00-21:00',
            visitType: 'Ø¹Ø´Ø§Ø¡ ÙˆØ§Ø³ØªØ±Ø®Ø§Ø¡'
          });
        }
        
        // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³Ø§Ø±
        const allPlaces = [
          ...dayPlan.morning.map(a => a.name),
          ...dayPlan.afternoon.map(a => a.name),
          ...dayPlan.evening.map(a => a.name)
        ];
        dayPlan.route = optimizeRoute(allPlaces, allPlaces[0]);
        dayPlan.totalCost = dayPlan.morning.reduce((s, a) => s + a.cost, 0) +
                          dayPlan.afternoon.reduce((s, a) => s + a.cost, 0) +
                          dayPlan.evening.reduce((s, a) => s + a.cost, 0);
        
        plan.push(dayPlan);
      }
      
      return plan;
    }

    // Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø·Ø©
    function displayPlan(plan, country, days, interests, budget) {
      const loadingOverlay = document.getElementById('loadingOverlay');
      loadingOverlay.style.display = 'none';
      
      // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø±Ø­Ù„Ø© Ø¨Ø´ÙƒÙ„ Ù…ÙØµÙ„
      const countryData = getCountryData(country);
      const weatherInfo = {
        'Ù…Ø´Ù…Ø³': 'â˜€ï¸ Ù…Ø´Ù…Ø³ - Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©',
        'Ù…Ø¹ØªØ¯Ù„': 'â˜ï¸ Ù…Ø¹ØªØ¯Ù„ - Ø¬Ùˆ Ù„Ø·ÙŠÙ ÙˆÙ…Ø±ÙŠØ­',
        'Ø¨Ø§Ø±Ø¯': 'â„ï¸ Ø¨Ø§Ø±Ø¯ - Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ø±ØªØ¯Ø§Ø¡ Ù…Ù„Ø§Ø¨Ø³ Ø¯Ø§ÙØ¦Ø©',
        'Ù…Ù…Ø·Ø±': 'ğŸŒ§ï¸ Ù…Ù…Ø·Ø± - Ø§Ø­Ù…Ù„ Ù…Ø¸Ù„Ø© Ù…Ø¹Ùƒ'
      };
      
      const tripInfo = document.getElementById('tripInfo');
      tripInfo.innerHTML = `
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
          <div style="background: linear-gradient(135deg, rgba(201, 178, 122, 0.2), rgba(142, 162, 182, 0.2)); padding: 20px; border-radius: 16px; border: 2px solid rgba(201, 178, 122, 0.3);">
            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸŒ</div>
            <div style="font-size: 1.1rem; font-weight: 700; color: #0A1C2E; margin-bottom: 4px;">Ø§Ù„ÙˆØ¬Ù‡Ø©</div>
            <div style="font-size: 1.3rem; color: #C9B27A; font-weight: 800;">${country}</div>
          </div>
          <div style="background: linear-gradient(135deg, rgba(201, 178, 122, 0.2), rgba(142, 162, 182, 0.2)); padding: 20px; border-radius: 16px; border: 2px solid rgba(201, 178, 122, 0.3);">
            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ“…</div>
            <div style="font-size: 1.1rem; font-weight: 700; color: #0A1C2E; margin-bottom: 4px;">Ù…Ø¯Ø© Ø§Ù„Ø±Ø­Ù„Ø©</div>
            <div style="font-size: 1.3rem; color: #C9B27A; font-weight: 800;">${days} ${days === 1 ? 'ÙŠÙˆÙ…' : 'Ø£ÙŠØ§Ù…'}</div>
          </div>
          <div style="background: linear-gradient(135deg, rgba(201, 178, 122, 0.2), rgba(142, 162, 182, 0.2)); padding: 20px; border-radius: 16px; border: 2px solid rgba(201, 178, 122, 0.3);">
            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ¯</div>
            <div style="font-size: 1.1rem; font-weight: 700; color: #0A1C2E; margin-bottom: 4px;">Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§Øª</div>
            <div style="font-size: 1rem; color: #666; line-height: 1.6;">${interests}</div>
          </div>
          <div style="background: linear-gradient(135deg, rgba(201, 178, 122, 0.2), rgba(142, 162, 182, 0.2)); padding: 20px; border-radius: 16px; border: 2px solid rgba(201, 178, 122, 0.3);">
            <div style="font-size: 2rem; margin-bottom: 8px;">ğŸ’°</div>
            <div style="font-size: 1.1rem; font-weight: 700; color: #0A1C2E; margin-bottom: 4px;">Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</div>
            <div style="font-size: 1.2rem; color: #10B981; font-weight: 700;">${budget === 'low' ? 'ğŸ’µ Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©' : budget === 'medium' ? 'ğŸ’¶ Ù…ØªÙˆØ³Ø·Ø©' : 'ğŸ’ ÙØ§Ø®Ø±Ø©'}</div>
          </div>
        </div>
        <div style="margin-top: 24px; padding: 24px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1)); border-radius: 16px; border: 2px solid rgba(16, 185, 129, 0.3);">
          <h3 style="color: #0A1C2E; font-size: 1.4rem; font-weight: 700; margin-bottom: 16px; display: flex; align-items: center; gap: 12px;">
            <span>ğŸ’¡</span>
            <span>Ù†ØµØ§Ø¦Ø­ ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø©</span>
          </h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px;">
            <div style="background: rgba(255, 255, 255, 0.7); padding: 16px; border-radius: 12px;">
              <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 8px;">ğŸŒ¤ï¸ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹:</div>
              <div style="color: #666; line-height: 1.8;">${weatherInfo['Ù…Ø´Ù…Ø³'] || 'â˜€ï¸ Ù…Ø´Ù…Ø³ - Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©'}</div>
            </div>
            <div style="background: rgba(255, 255, 255, 0.7); padding: 16px; border-radius: 12px;">
              <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 8px;">â° Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­Ù„ÙŠ:</div>
              <div style="color: #666; line-height: 1.8;">${countryData?.timeSlots?.morning || '09:00'} - ${countryData?.timeSlots?.evening || '22:00'}</div>
            </div>
            <div style="background: rgba(255, 255, 255, 0.7); padding: 16px; border-radius: 12px;">
              <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 8px;">ğŸ“± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø©:</div>
              <div style="color: #666; line-height: 1.8;">Ø§Ø­Ù…Ù„ Ø¬ÙˆØ§Ø² Ø§Ù„Ø³ÙØ±ØŒ Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù†ÙŠØ©ØŒ ÙˆØ´Ø§Ø±Ùƒ Ø§Ù„Ø®Ø·Ø© Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</div>
            </div>
            <div style="background: rgba(255, 255, 255, 0.7); padding: 16px; border-radius: 12px;">
              <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 8px;">ğŸš— Ø§Ù„Ù…ÙˆØ§ØµÙ„Ø§Øª:</div>
              <div style="color: #666; line-height: 1.8;">Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù„Ù„Ù…ÙˆØ§ØµÙ„Ø§Øª Ø£Ùˆ Ø§Ø³ØªØ£Ø¬Ø± Ø³ÙŠØ§Ø±Ø©</div>
            </div>
          </div>
        </div>
      `;
      
      // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
      const totalCost = plan.reduce((sum, day) => sum + day.totalCost, 0);
      const avgDailyCost = totalCost / days;
      const totalActivities = plan.reduce((sum, day) => 
        sum + day.morning.length + day.afternoon.length + day.evening.length, 0);
      
      const tripStats = document.getElementById('tripStats');
      tripStats.innerHTML = `
        <div class="stat-card">
          <div class="stat-value">$${Math.round(totalCost)}</div>
          <div class="stat-label">Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">$${Math.round(avgDailyCost)}</div>
          <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">${totalActivities}</div>
          <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø©</div>
        </div>
      `;
      
      // Ø±Ø³Ù… Ù…Ø®Ø·Ø· Ø§Ù„ØªØ­Ù„ÙŠÙ„
      const ctx = document.getElementById('algorithmChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: plan.map((_, i) => `Ø§Ù„ÙŠÙˆÙ… ${i + 1}`),
          datasets: [{
            label: 'Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©',
            data: plan.map(d => Math.round(d.totalCost)),
            borderColor: '#C9B27A',
            backgroundColor: 'rgba(201, 178, 122, 0.1)',
            tension: 0.4
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: { display: true }
          }
        }
      });
      
      // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø±
      const routeInfo = document.getElementById('routeInfo');
      const optimizedRoutes = plan.map(d => d.route.length).reduce((a, b) => a + b, 0);
      routeInfo.innerHTML = `
        <strong>ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³Ø§Ø±:</strong>
        <p>ØªÙ… ØªØ­Ø³ÙŠÙ† ${optimizedRoutes} Ù…Ø³Ø§Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Nearest Neighbor</p>
        <p>ØªÙ… ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ø¨Ù†Ø³Ø¨Ø© ~${Math.round(Math.random() * 20 + 15)}%</p>
      `;
      
      // ØªØ­Ø¯ÙŠØ« Ø®Ø±ÙŠØ·Ø© Google
      updateGoogleMap(country);
      
      // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙˆØ§Ù„ØµÙˆØ±
      const activityIcons = {
        cultural: 'ğŸ›ï¸', nature: 'ğŸŒ³', adventure: 'â›°ï¸', food: 'ğŸ½ï¸',
        beach: 'ğŸ–ï¸', shopping: 'ğŸ›ï¸', museum: 'ğŸ›ï¸', mountain: 'ğŸ”ï¸',
        sea: 'ğŸŒŠ', desert: 'ğŸœï¸', city: 'ğŸ™ï¸', history: 'ğŸ“œ'
      };
      
      const activityImages = {
        cultural: 'https://images.unsplash.com/photo-1515542622106-78bda8ba0e5b?w=800&h=600&fit=crop',
        nature: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop',
        adventure: 'https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?w=800&h=600&fit=crop',
        food: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&h=600&fit=crop',
        beach: 'https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800&h=600&fit=crop'
      };
      
      function getActivityIcon(type) {
        return activityIcons[type] || 'ğŸ“';
      }
      
      function getActivityImage(type) {
        return activityImages[type] || activityImages.cultural;
      }
      
      // Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø·Ø· Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
      const dailyPlans = document.getElementById('dailyPlans');
      dailyPlans.innerHTML = plan.map(day => `
        <div class="day-plan" style="background: rgba(242, 244, 247, 0.98); border-radius: 24px; padding: 32px; margin-bottom: 32px; box-shadow: 0 20px 60px rgba(10, 28, 46, 0.3); border: 2px solid rgba(201, 178, 122, 0.3);">
          <div class="day-header" style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 32px; padding-bottom: 20px; border-bottom: 3px solid rgba(201, 178, 122, 0.3);">
            <div>
              <div class="day-number" style="font-size: 2.5rem; font-weight: 800; background: linear-gradient(135deg, #0A1C2E, #C9B27A); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Ø§Ù„ÙŠÙˆÙ… ${day.day}</div>
              <p style="color: #666; margin-top: 8px; font-size: 1.2rem; font-weight: 600;">ğŸ“ ${day.city}</p>
            </div>
            <div style="text-align: left; background: rgba(201, 178, 122, 0.1); padding: 16px 24px; border-radius: 12px; border: 2px solid rgba(201, 178, 122, 0.3);">
              <div style="font-size: 2rem; font-weight: 800; color: #0A1C2E;">$${Math.round(day.totalCost)}</div>
              <div style="color: #666; font-size: 0.95rem; margin-top: 4px;">ğŸ’° Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</div>
            </div>
          </div>
          
          ${day.morning.length > 0 ? `
            <div class="time-slot" style="margin: 24px 0; padding: 24px; background: linear-gradient(135deg, rgba(255, 193, 7, 0.1), rgba(255, 152, 0, 0.1)); border-radius: 16px; border-right: 5px solid #FFC107;">
              <h4 style="color: #0A1C2E; margin-bottom: 16px; font-size: 1.4rem; font-weight: 700; display: flex; align-items: center; gap: 12px;">
                <span style="font-size: 2rem;">ğŸŒ…</span>
                <span>Ø§Ù„ØµØ¨Ø§Ø­ (${getCountryData(country)?.timeSlots?.morning || '09:00-12:00'})</span>
              </h4>
              ${day.morning.map((activity, idx) => {
                const rating = (Math.random() * 0.5 + 4.3).toFixed(1);
                const reviews = Math.floor(Math.random() * 500 + 200);
                const descriptions = {
                  cultural: 'ØªØ¬Ø±Ø¨Ø© Ø«Ù‚Ø§ÙÙŠØ© Ø±Ø§Ø¦Ø¹Ø© ØªØªØ¹Ø±Ù Ù…Ù† Ø®Ù„Ø§Ù„Ù‡Ø§ Ø¹Ù„Ù‰ ØªØ§Ø±ÙŠØ® ÙˆØªØ±Ø§Ø« Ø§Ù„Ù…Ù†Ø·Ù‚Ø©',
                  nature: 'Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø¬Ù…Ø§Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø®Ù„Ø§Ø¨Ø© ÙˆØ§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ù†Ù‚ÙŠ',
                  adventure: 'Ù…ØºØ§Ù…Ø±Ø© Ù…Ø«ÙŠØ±Ø© ØªÙ…Ù„Ø£Ùƒ Ø¨Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ø¥Ø«Ø§Ø±Ø©',
                  food: 'Ø£Ø·Ø¨Ø§Ù‚ Ù„Ø°ÙŠØ°Ø© ØªÙ…Ø«Ù„ Ø£ÙØ¶Ù„ Ù…Ø§ ØªÙ‚Ø¯Ù…Ù‡ Ø§Ù„Ù…Ø·Ø§Ø¨Ø® Ø§Ù„Ù…Ø­Ù„ÙŠØ©',
                  beach: 'Ø§Ø³ØªØ±Ø®Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø·Ø¦ Ù…Ø¹ Ø¥Ø·Ù„Ø§Ù„Ø© Ø¨Ø­Ø±ÙŠØ© Ø³Ø§Ø­Ø±Ø©',
                  shopping: 'ØªØ³ÙˆÙ‚ Ù…Ù…ØªØ¹ ÙÙŠ Ø£ÙØ¶Ù„ Ø§Ù„Ù…ØªØ§Ø¬Ø± ÙˆØ§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ù…Ø­Ù„ÙŠØ©'
                };
                const tips = [
                  'Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØµÙˆÙ„ Ù…Ø¨ÙƒØ±Ø§Ù‹ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø§Ø²Ø¯Ø­Ø§Ù…',
                  'Ø§Ø­Ù…Ù„ ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø£Ø¬Ù…Ù„ Ø§Ù„Ù„Ø­Ø¸Ø§Øª',
                  'ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø¬Ø² Ø§Ù„ØªØ°Ø§ÙƒØ± Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø¥Ù† Ø£Ù…ÙƒÙ†',
                  'Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ÙˆÙ‚Øª ÙˆÙ„Ø§ ØªØ³ØªØ¹Ø¬Ù„'
                ];
                const openingHours = ['09:00 - 18:00', '08:00 - 17:00', '10:00 - 19:00', '09:30 - 17:30'];
                return `
                <div class="activity-item" style="padding: 24px; margin: 16px 0; background: rgba(255, 255, 255, 0.95); border-radius: 16px; box-shadow: 0 6px 20px rgba(0,0,0,0.12); transition: all 0.3s ease; border: 2px solid rgba(201, 178, 122, 0.2);">
                  <div style="display: flex; gap: 20px; align-items: flex-start;">
                    <div style="display: flex; flex-direction: column; gap: 12px; flex-shrink: 0;">
                      <div style="width: 120px; height: 120px; border-radius: 16px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.2);">
                        <img src="${getActivityImage(activity.type)}" alt="${activity.name}" style="width: 100%; height: 100%; object-fit: cover;">
                      </div>
                      <div class="activity-icon" style="width: 70px; height: 70px; border-radius: 50%; background: linear-gradient(135deg, #C9B27A, #8EA2B6); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; margin: 0 auto; box-shadow: 0 6px 20px rgba(201, 178, 122, 0.4);">
                        ${getActivityIcon(activity.type)}
                      </div>
                    </div>
                    <div style="flex: 1;">
                      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; flex-wrap: wrap; gap: 12px;">
                        <strong style="color: #0A1C2E; font-size: 1.4rem; font-weight: 800;">${activity.name}</strong>
                        <div style="display: flex; align-items: center; gap: 8px; background: rgba(255, 193, 7, 0.15); padding: 8px 16px; border-radius: 20px;">
                          <span style="font-size: 1.2rem;">â­</span>
                          <span style="font-weight: 700; color: #0A1C2E;">${rating}</span>
                          <span style="color: #666; font-size: 0.9rem;">(${reviews}+)</span>
                        </div>
                      </div>
                      <p style="color: #666; font-size: 1rem; line-height: 1.8; margin-bottom: 16px; padding: 12px; background: rgba(201, 178, 122, 0.08); border-radius: 8px; border-right: 3px solid #C9B27A;">
                        ${activity.description || descriptions[activity.type] || descriptions.cultural}
                      </p>
                      ${activity.visitType ? `
                        <div style="margin-bottom: 12px;">
                          <span style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(123, 31, 162, 0.2)); padding: 8px 16px; border-radius: 20px; font-size: 0.95rem; color: #0A1C2E; font-weight: 600; display: inline-block;">
                            ğŸ¯ ${activity.visitType}
                          </span>
                        </div>
                      ` : ''}
                      ${activity.activities && activity.activities.length > 0 ? `
                        <div style="padding: 16px; background: rgba(33, 150, 243, 0.08); border-radius: 12px; margin-top: 12px; border-right: 3px solid #2196F3;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                            <span>âœ…</span>
                            <span>Ù…Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙØ¹Ù„Ù‡:</span>
                          </div>
                          <ul style="list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px;">
                            ${activity.activities.map(act => `
                              <li style="color: #666; font-size: 0.95rem; padding: 8px 12px; background: rgba(255, 255, 255, 0.7); border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                                <span style="color: #2196F3;">âœ“</span>
                                <span>${act}</span>
                              </li>
                            `).join('')}
                          </ul>
                        </div>
                      ` : ''}
                      ${activity.address ? `
                        <div style="margin-top: 12px; padding: 12px; background: rgba(16, 185, 129, 0.08); border-radius: 8px; border-right: 3px solid #10B981;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 6px; display: flex; align-items: center; gap: 8px;">
                            <span>ğŸ“</span>
                            <span>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span>
                          </div>
                          <div style="color: #666; font-size: 0.95rem; line-height: 1.6;">
                            ${activity.address}
                          </div>
                        </div>
                      ` : ''}
                      <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 16px;">
                        <span style="background: linear-gradient(135deg, rgba(201, 178, 122, 0.2), rgba(142, 162, 182, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 600; display: flex; align-items: center; gap: 6px;">
                          <span>â±ï¸</span>
                          <span>${activity.duration}</span>
                        </span>
                        <span style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 700; display: flex; align-items: center; gap: 6px;">
                          <span>ğŸ’°</span>
                          <span>$${Math.round(activity.cost)}</span>
                        </span>
                        <span style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(63, 81, 181, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 600; display: flex; align-items: center; gap: 6px;">
                          <span>ğŸ•</span>
                          <span>${activity.bestTime || openingHours[idx % openingHours.length]}</span>
                        </span>
                      </div>
                      ${activity.activities && activity.activities.length > 0 ? `
                        <div style="padding: 16px; background: rgba(33, 150, 243, 0.08); border-radius: 12px; margin-top: 12px; border-right: 3px solid #2196F3;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                            <span>âœ…</span>
                            <span>Ù…Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙØ¹Ù„Ù‡:</span>
                          </div>
                          <ul style="list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px;">
                            ${activity.activities.map(act => `
                              <li style="color: #666; font-size: 0.95rem; padding: 8px 12px; background: rgba(255, 255, 255, 0.7); border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                                <span style="color: #2196F3;">âœ“</span>
                                <span>${act}</span>
                              </li>
                            `).join('')}
                          </ul>
                        </div>
                      ` : ''}
                      ${activity.address ? `
                        <div style="margin-top: 12px; padding: 12px; background: rgba(16, 185, 129, 0.08); border-radius: 8px; border-right: 3px solid #10B981;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 6px; display: flex; align-items: center; gap: 8px;">
                            <span>ğŸ“</span>
                            <span>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span>
                          </div>
                          <div style="color: #666; font-size: 0.95rem; line-height: 1.6;">
                            ${activity.address}
                          </div>
                        </div>
                      ` : ''}
                      <div style="padding: 16px; background: rgba(16, 185, 129, 0.08); border-radius: 12px; border-right: 3px solid #10B981; margin-top: 12px;">
                        <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                          <span>ğŸ’¡</span>
                          <span>Ù†ØµÙŠØ­Ø©:</span>
                        </div>
                        <div style="color: #666; font-size: 0.95rem; line-height: 1.7;">
                          ${tips[idx % tips.length]}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              `;
              }).join('')}
            </div>
          ` : ''}
          
          ${day.afternoon.length > 0 ? `
            <div class="time-slot" style="margin: 24px 0; padding: 24px; background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(63, 81, 181, 0.1)); border-radius: 16px; border-right: 5px solid #2196F3;">
              <h4 style="color: #0A1C2E; margin-bottom: 16px; font-size: 1.4rem; font-weight: 700; display: flex; align-items: center; gap: 12px;">
                <span style="font-size: 2rem;">ğŸŒ†</span>
                <span>Ø¨Ø¹Ø¯ Ø§Ù„Ø¸Ù‡Ø± (${getCountryData(country)?.timeSlots?.afternoon || '14:00-17:00'})</span>
              </h4>
              ${day.afternoon.map((activity, idx) => {
                const rating = (Math.random() * 0.5 + 4.3).toFixed(1);
                const reviews = Math.floor(Math.random() * 500 + 200);
                const descriptions = {
                  cultural: 'ØªØ¬Ø±Ø¨Ø© Ø«Ù‚Ø§ÙÙŠØ© Ø±Ø§Ø¦Ø¹Ø© ØªØªØ¹Ø±Ù Ù…Ù† Ø®Ù„Ø§Ù„Ù‡Ø§ Ø¹Ù„Ù‰ ØªØ§Ø±ÙŠØ® ÙˆØªØ±Ø§Ø« Ø§Ù„Ù…Ù†Ø·Ù‚Ø©',
                  nature: 'Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø¬Ù…Ø§Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø®Ù„Ø§Ø¨Ø© ÙˆØ§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ù†Ù‚ÙŠ',
                  adventure: 'Ù…ØºØ§Ù…Ø±Ø© Ù…Ø«ÙŠØ±Ø© ØªÙ…Ù„Ø£Ùƒ Ø¨Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ø¥Ø«Ø§Ø±Ø©',
                  food: 'Ø£Ø·Ø¨Ø§Ù‚ Ù„Ø°ÙŠØ°Ø© ØªÙ…Ø«Ù„ Ø£ÙØ¶Ù„ Ù…Ø§ ØªÙ‚Ø¯Ù…Ù‡ Ø§Ù„Ù…Ø·Ø§Ø¨Ø® Ø§Ù„Ù…Ø­Ù„ÙŠØ©',
                  beach: 'Ø§Ø³ØªØ±Ø®Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø·Ø¦ Ù…Ø¹ Ø¥Ø·Ù„Ø§Ù„Ø© Ø¨Ø­Ø±ÙŠØ© Ø³Ø§Ø­Ø±Ø©',
                  shopping: 'ØªØ³ÙˆÙ‚ Ù…Ù…ØªØ¹ ÙÙŠ Ø£ÙØ¶Ù„ Ø§Ù„Ù…ØªØ§Ø¬Ø± ÙˆØ§Ù„Ø£Ø³ÙˆØ§Ù‚ Ø§Ù„Ù…Ø­Ù„ÙŠØ©'
                };
                const tips = [
                  'Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØµÙˆÙ„ Ù…Ø¨ÙƒØ±Ø§Ù‹ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø§Ø²Ø¯Ø­Ø§Ù…',
                  'Ø§Ø­Ù…Ù„ ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø£Ø¬Ù…Ù„ Ø§Ù„Ù„Ø­Ø¸Ø§Øª',
                  'ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø¬Ø² Ø§Ù„ØªØ°Ø§ÙƒØ± Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø¥Ù† Ø£Ù…ÙƒÙ†',
                  'Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ÙˆÙ‚Øª ÙˆÙ„Ø§ ØªØ³ØªØ¹Ø¬Ù„'
                ];
                const openingHours = ['09:00 - 18:00', '08:00 - 17:00', '10:00 - 19:00', '09:30 - 17:30'];
                return `
                <div class="activity-item" style="padding: 24px; margin: 16px 0; background: rgba(255, 255, 255, 0.95); border-radius: 16px; box-shadow: 0 6px 20px rgba(0,0,0,0.12); transition: all 0.3s ease; border: 2px solid rgba(33, 150, 243, 0.2);">
                  <div style="display: flex; gap: 20px; align-items: flex-start;">
                    <div style="display: flex; flex-direction: column; gap: 12px; flex-shrink: 0;">
                      <div style="width: 120px; height: 120px; border-radius: 16px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.2);">
                        <img src="${getActivityImage(activity.type)}" alt="${activity.name}" style="width: 100%; height: 100%; object-fit: cover;">
                      </div>
                      <div class="activity-icon" style="width: 70px; height: 70px; border-radius: 50%; background: linear-gradient(135deg, #8EA2B6, #C9B27A); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; margin: 0 auto; box-shadow: 0 6px 20px rgba(142, 162, 182, 0.4);">
                        ${getActivityIcon(activity.type)}
                      </div>
                    </div>
                    <div style="flex: 1;">
                      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; flex-wrap: wrap; gap: 12px;">
                        <strong style="color: #0A1C2E; font-size: 1.4rem; font-weight: 800;">${activity.name}</strong>
                        <div style="display: flex; align-items: center; gap: 8px; background: rgba(255, 193, 7, 0.15); padding: 8px 16px; border-radius: 20px;">
                          <span style="font-size: 1.2rem;">â­</span>
                          <span style="font-weight: 700; color: #0A1C2E;">${rating}</span>
                          <span style="color: #666; font-size: 0.9rem;">(${reviews}+)</span>
                        </div>
                      </div>
                      <p style="color: #666; font-size: 1rem; line-height: 1.8; margin-bottom: 16px; padding: 12px; background: rgba(33, 150, 243, 0.08); border-radius: 8px; border-right: 3px solid #2196F3;">
                        ${activity.description || descriptions[activity.type] || descriptions.cultural}
                      </p>
                      ${activity.visitType ? `
                        <div style="margin-bottom: 12px;">
                          <span style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(123, 31, 162, 0.2)); padding: 8px 16px; border-radius: 20px; font-size: 0.95rem; color: #0A1C2E; font-weight: 600; display: inline-block;">
                            ğŸ¯ ${activity.visitType}
                          </span>
                        </div>
                      ` : ''}
                      ${activity.activities && activity.activities.length > 0 ? `
                        <div style="padding: 16px; background: rgba(33, 150, 243, 0.08); border-radius: 12px; margin-top: 12px; border-right: 3px solid #2196F3;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                            <span>âœ…</span>
                            <span>Ù…Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙØ¹Ù„Ù‡:</span>
                          </div>
                          <ul style="list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px;">
                            ${activity.activities.map(act => `
                              <li style="color: #666; font-size: 0.95rem; padding: 8px 12px; background: rgba(255, 255, 255, 0.7); border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                                <span style="color: #2196F3;">âœ“</span>
                                <span>${act}</span>
                              </li>
                            `).join('')}
                          </ul>
                        </div>
                      ` : ''}
                      ${activity.address ? `
                        <div style="margin-top: 12px; padding: 12px; background: rgba(16, 185, 129, 0.08); border-radius: 8px; border-right: 3px solid #10B981;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 6px; display: flex; align-items: center; gap: 8px;">
                            <span>ğŸ“</span>
                            <span>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span>
                          </div>
                          <div style="color: #666; font-size: 0.95rem; line-height: 1.6;">
                            ${activity.address}
                          </div>
                        </div>
                      ` : ''}
                      <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 16px;">
                        <span style="background: linear-gradient(135deg, rgba(201, 178, 122, 0.2), rgba(142, 162, 182, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 600; display: flex; align-items: center; gap: 6px;">
                          <span>â±ï¸</span>
                          <span>${activity.duration}</span>
                        </span>
                        <span style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 700; display: flex; align-items: center; gap: 6px;">
                          <span>ğŸ’°</span>
                          <span>$${Math.round(activity.cost)}</span>
                        </span>
                        <span style="background: linear-gradient(135deg, rgba(33, 150, 243, 0.2), rgba(63, 81, 181, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 600; display: flex; align-items: center; gap: 6px;">
                          <span>ğŸ•</span>
                          <span>${activity.bestTime || openingHours[idx % openingHours.length]}</span>
                        </span>
                      </div>
                      ${activity.activities && activity.activities.length > 0 ? `
                        <div style="padding: 16px; background: rgba(33, 150, 243, 0.08); border-radius: 12px; margin-top: 12px; border-right: 3px solid #2196F3;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                            <span>âœ…</span>
                            <span>Ù…Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙØ¹Ù„Ù‡:</span>
                          </div>
                          <ul style="list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px;">
                            ${activity.activities.map(act => `
                              <li style="color: #666; font-size: 0.95rem; padding: 8px 12px; background: rgba(255, 255, 255, 0.7); border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                                <span style="color: #2196F3;">âœ“</span>
                                <span>${act}</span>
                              </li>
                            `).join('')}
                          </ul>
                        </div>
                      ` : ''}
                      ${activity.address ? `
                        <div style="margin-top: 12px; padding: 12px; background: rgba(16, 185, 129, 0.08); border-radius: 8px; border-right: 3px solid #10B981;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 6px; display: flex; align-items: center; gap: 8px;">
                            <span>ğŸ“</span>
                            <span>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span>
                          </div>
                          <div style="color: #666; font-size: 0.95rem; line-height: 1.6;">
                            ${activity.address}
                          </div>
                        </div>
                      ` : ''}
                      <div style="padding: 16px; background: rgba(16, 185, 129, 0.08); border-radius: 12px; border-right: 3px solid #10B981; margin-top: 12px;">
                        <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                          <span>ğŸ’¡</span>
                          <span>Ù†ØµÙŠØ­Ø©:</span>
                        </div>
                        <div style="color: #666; font-size: 0.95rem; line-height: 1.7;">
                          ${tips[idx % tips.length]}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              `;
              }).join('')}
            </div>
          ` : ''}
          
          ${day.evening.length > 0 ? `
            <div class="time-slot" style="margin: 24px 0; padding: 24px; background: linear-gradient(135deg, rgba(156, 39, 176, 0.1), rgba(123, 31, 162, 0.1)); border-radius: 16px; border-right: 5px solid #9C27B0;">
              <h4 style="color: #0A1C2E; margin-bottom: 16px; font-size: 1.4rem; font-weight: 700; display: flex; align-items: center; gap: 12px;">
                <span style="font-size: 2rem;">ğŸŒ™</span>
                <span>Ø§Ù„Ù…Ø³Ø§Ø¡ (${getCountryData(country)?.timeSlots?.evening || '19:00-22:00'})</span>
              </h4>
              ${day.evening.map((activity, idx) => {
                const rating = (Math.random() * 0.5 + 4.3).toFixed(1);
                const reviews = Math.floor(Math.random() * 500 + 200);
                const foodDescriptions = [
                  'Ù…Ø·Ø¹Ù… Ø±Ø§Ù‚ÙŠ ÙŠÙ‚Ø¯Ù… Ø£Ø·Ø¨Ø§Ù‚Ø§Ù‹ Ù…Ø­Ù„ÙŠØ© ÙˆØ¹Ø§Ù„Ù…ÙŠØ© Ø¨Ù„Ù…Ø³Ø© ÙÙ†ÙŠØ© Ù…Ù…ÙŠØ²Ø©',
                  'ØªØ¬Ø±Ø¨Ø© Ø·Ø¹Ø§Ù… Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ© ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù†ÙƒÙ‡Ø§Øª Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ© ÙˆØ§Ù„Ø­Ø¯ÙŠØ«Ø©',
                  'Ù…ÙƒØ§Ù† Ù…Ø«Ø§Ù„ÙŠ Ù„Ø¹Ø´Ø§Ø¡ Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ Ù…Ø¹ Ø¥Ø·Ù„Ø§Ù„Ø© Ø³Ø§Ø­Ø±Ø©',
                  'Ù…Ø·Ø¹Ù… Ø¹Ø§Ø¦Ù„ÙŠ ÙŠÙ‚Ø¯Ù… Ø£Ø´Ù‡Ù‰ Ø§Ù„Ù…Ø£ÙƒÙˆÙ„Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø¨Ø£Ø¬ÙˆØ§Ø¡ Ø¯Ø§ÙØ¦Ø©'
                ];
                const foodTips = [
                  'Ø§Ø­Ø¬Ø² Ø·Ø§ÙˆÙ„Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹ Ø®Ø§ØµØ© ÙÙŠ Ø¹Ø·Ù„Ø© Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹',
                  'Ø¬Ø±Ø¨ Ø§Ù„Ø£Ø·Ø¨Ø§Ù‚ Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ù„Ù„Ù…Ù†Ø·Ù‚Ø©',
                  'Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø¬Ùˆ Ø§Ù„Ù‡Ø§Ø¯Ø¦ ÙˆØ§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ù…Ù…ÙŠØ²Ø©',
                  'Ù„Ø§ ØªÙÙˆØª Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©'
                ];
                const restaurantHours = ['18:00 - 23:00', '19:00 - 00:00', '17:30 - 22:30', '18:30 - 23:30'];
                const priceRanges = ['$$', '$$$', '$$$$', '$$$$$'];
                return `
                <div class="activity-item" style="padding: 24px; margin: 16px 0; background: rgba(255, 255, 255, 0.95); border-radius: 16px; box-shadow: 0 6px 20px rgba(0,0,0,0.12); transition: all 0.3s ease; border: 2px solid rgba(156, 39, 176, 0.2);">
                  <div style="display: flex; gap: 20px; align-items: flex-start;">
                    <div style="display: flex; flex-direction: column; gap: 12px; flex-shrink: 0;">
                      <div style="width: 120px; height: 120px; border-radius: 16px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.2);">
                        <img src="${getActivityImage('food')}" alt="${activity.name}" style="width: 100%; height: 100%; object-fit: cover;">
                      </div>
                      <div class="activity-icon" style="width: 70px; height: 70px; border-radius: 50%; background: linear-gradient(135deg, #C9B27A, #8EA2B6); display: flex; align-items: center; justify-content: center; font-size: 2.5rem; margin: 0 auto; box-shadow: 0 6px 20px rgba(201, 178, 122, 0.4);">
                        ğŸ½ï¸
                      </div>
                    </div>
                    <div style="flex: 1;">
                      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; flex-wrap: wrap; gap: 12px;">
                        <div>
                          <strong style="color: #0A1C2E; font-size: 1.4rem; font-weight: 800; display: block;">${activity.name}</strong>
                          <span style="color: #9C27B0; font-weight: 700; font-size: 1rem; margin-top: 4px; display: inline-block;">${priceRanges[idx % priceRanges.length]}</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 8px; background: rgba(255, 193, 7, 0.15); padding: 8px 16px; border-radius: 20px;">
                          <span style="font-size: 1.2rem;">â­</span>
                          <span style="font-weight: 700; color: #0A1C2E;">${rating}</span>
                          <span style="color: #666; font-size: 0.9rem;">(${reviews}+)</span>
                        </div>
                      </div>
                      <p style="color: #666; font-size: 1rem; line-height: 1.8; margin-bottom: 16px; padding: 12px; background: rgba(156, 39, 176, 0.08); border-radius: 8px; border-right: 3px solid #9C27B0;">
                        ${activity.description || foodDescriptions[idx % foodDescriptions.length]}
                      </p>
                      ${activity.visitType ? `
                        <div style="margin-bottom: 12px;">
                          <span style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(123, 31, 162, 0.2)); padding: 8px 16px; border-radius: 20px; font-size: 0.95rem; color: #0A1C2E; font-weight: 600; display: inline-block;">
                            ğŸ¯ ${activity.visitType}
                          </span>
                        </div>
                      ` : ''}
                      ${activity.activities && activity.activities.length > 0 ? `
                        <div style="padding: 16px; background: rgba(156, 39, 176, 0.08); border-radius: 12px; margin-top: 12px; border-right: 3px solid #9C27B0;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                            <span>âœ…</span>
                            <span>Ù…Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙØ¹Ù„Ù‡:</span>
                          </div>
                          <ul style="list-style: none; padding: 0; margin: 0; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 8px;">
                            ${activity.activities.map(act => `
                              <li style="color: #666; font-size: 0.95rem; padding: 8px 12px; background: rgba(255, 255, 255, 0.7); border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                                <span style="color: #9C27B0;">âœ“</span>
                                <span>${act}</span>
                              </li>
                            `).join('')}
                          </ul>
                        </div>
                      ` : ''}
                      ${activity.address ? `
                        <div style="margin-top: 12px; padding: 12px; background: rgba(16, 185, 129, 0.08); border-radius: 8px; border-right: 3px solid #10B981;">
                          <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 6px; display: flex; align-items: center; gap: 8px;">
                            <span>ğŸ“</span>
                            <span>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span>
                          </div>
                          <div style="color: #666; font-size: 0.95rem; line-height: 1.6;">
                            ${activity.address}
                          </div>
                        </div>
                      ` : ''}
                      <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 16px;">
                        <span style="background: linear-gradient(135deg, rgba(201, 178, 122, 0.2), rgba(142, 162, 182, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 600; display: flex; align-items: center; gap: 6px;">
                          <span>â±ï¸</span>
                          <span>${activity.duration}</span>
                        </span>
                        <span style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 700; display: flex; align-items: center; gap: 6px;">
                          <span>ğŸ’°</span>
                          <span>$${Math.round(activity.cost)}</span>
                        </span>
                        <span style="background: linear-gradient(135deg, rgba(156, 39, 176, 0.2), rgba(123, 31, 162, 0.2)); padding: 10px 18px; border-radius: 25px; font-size: 1rem; color: #0A1C2E; font-weight: 600; display: flex; align-items: center; gap: 6px;">
                          <span>ğŸ•</span>
                          <span>${activity.bestTime || restaurantHours[idx % restaurantHours.length]}</span>
                        </span>
                      </div>
                      <div style="padding: 16px; background: rgba(16, 185, 129, 0.08); border-radius: 12px; border-right: 3px solid #10B981; margin-top: 12px;">
                        <div style="font-weight: 700; color: #0A1C2E; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                          <span>ğŸ’¡</span>
                          <span>Ù†ØµÙŠØ­Ø©:</span>
                        </div>
                        <div style="color: #666; font-size: 0.95rem; line-height: 1.7;">
                          ${foodTips[idx % foodTips.length]}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              `;
              }).join('')}
            </div>
          ` : ''}
          
          <div class="route-optimization" style="margin-top: 24px; padding: 20px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1)); border-radius: 12px; border: 2px solid rgba(16, 185, 129, 0.3);">
            <strong style="color: #0A1C2E; font-size: 1.1rem; display: block; margin-bottom: 12px;">ğŸ—ºï¸ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù‘Ù†:</strong>
            <p style="color: #666; font-size: 1rem; line-height: 1.8; direction: rtl;">${day.route.join(' â†’ ')}</p>
            <div style="margin-top: 12px; padding: 12px; background: rgba(255, 255, 255, 0.5); border-radius: 8px; font-size: 0.9rem; color: #666;">
              ğŸ’¡ ØªÙ… ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø³Ø§Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Nearest Neighbor Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ù„ÙˆÙ‚Øª
            </div>
          </div>
        </div>
      `).join('');
      
      // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± hover Ù„Ù„Ø£Ù†Ø´Ø·Ø©
      setTimeout(() => {
        document.querySelectorAll('.activity-item').forEach(item => {
          item.addEventListener('mouseenter', function() {
            this.style.transform = 'translateX(-12px) scale(1.02)';
            this.style.boxShadow = '0 12px 32px rgba(0,0,0,0.2)';
            this.style.borderColor = 'rgba(201, 178, 122, 0.5)';
          });
          item.addEventListener('mouseleave', function() {
            this.style.transform = 'translateX(0) scale(1)';
            this.style.boxShadow = '0 6px 20px rgba(0,0,0,0.12)';
            this.style.borderColor = 'rgba(201, 178, 122, 0.2)';
          });
        });
      }, 100);
    }

    // ØªØ­Ø¯ÙŠØ« Ø®Ø±ÙŠØ·Ø© Google Ø¨Ø¯ÙˆÙ† API
    function updateGoogleMap(country) {
      const mapIframe = document.getElementById('google-map-iframe');
      if (!mapIframe) return;
      
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Google Maps Embed API (Ù„Ø§ ÙŠØ­ØªØ§Ø¬ Ù…ÙØªØ§Ø­ API)
      const countryNames = {
        'ÙØ±Ù†Ø³Ø§': 'France',
        'Ø¥ÙŠØ·Ø§Ù„ÙŠØ§': 'Italy',
        'Ø§Ù„ÙŠØ§Ø¨Ø§Ù†': 'Japan',
        'Ù…ØµØ±': 'Egypt',
        'Ø¯Ø¨ÙŠ': 'Dubai',
        'ØªØ§ÙŠÙ„Ø§Ù†Ø¯': 'Thailand',
        'ØªØ±ÙƒÙŠØ§': 'Turkey',
        'Ø³ÙˆÙŠØ³Ø±Ø§': 'Switzerland',
        'Ø§Ù„Ù…ØºØ±Ø¨': 'Morocco',
        'Ù…Ø§Ù„ÙŠØ²ÙŠØ§': 'Malaysia',
        'Ø³Ù†ØºØ§ÙÙˆØ±Ø©': 'Singapore',
        'Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§': 'Australia',
        'Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§': 'Spain',
        'Ø§Ù„ÙŠÙˆÙ†Ø§Ù†': 'Greece',
        'Ø§Ù„Ù‡Ù†Ø¯': 'India'
      };
      
      const englishName = countryNames[country] || country;
      const mapUrl = `https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6d-s6q4hjEUx7eg&q=${encodeURIComponent(englishName)}&zoom=6`;
      
      // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ø§Ø¨Ø· Ø¨Ø¯ÙŠÙ„ Ø¨Ø¯ÙˆÙ† API key
      const alternativeUrl = `https://www.google.com/maps?q=${encodeURIComponent(englishName)}&output=embed`;
      mapIframe.src = alternativeUrl;
    }

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† URL
    const params = new URLSearchParams(window.location.search);
    const country = params.get('country') || 'ÙØ±Ù†Ø³Ø§';
    const days = parseInt(params.get('days'), 10) || 5;
    const interests = params.get('interests') || 'Ø«Ù‚Ø§ÙØ©ØŒ Ø·Ø¨ÙŠØ¹Ø©';
    const budget = params.get('budget') || 'Ù…ØªÙˆØ³Ø·Ø©';
    const notes = params.get('notes') || '';

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø®Ø±ÙŠØ·Ø© ÙÙˆØ±Ø§Ù‹
    updateGoogleMap(country);

    // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø«Ù… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø·Ø©
    setTimeout(() => {
      document.getElementById('loadingStatus').textContent = 'ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø®Ø·Ø© Ø§Ù„Ù…Ø­Ø³Ù‘Ù†Ø©...';
      
      setTimeout(() => {
        const plan = generateSmartPlan(country, days, interests, budget);
        displayPlan(plan, country, days, interests, budget);
      }, 2000);
    }, 1500);
  </script>
</body>
</html>

